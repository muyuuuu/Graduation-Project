## 超声波模块HC-SR04

## 参考

- http://www.taichi-maker.com/homepage/reference-index/arduino-sensor-index/arduino-hc-sr04-sensor/
- https://blog.csdn.net/qq_23937195/article/details/68947758

### **基本介绍**

本模块性能稳定，测度距离精确。能和国外的SRF05,SRF02等超声波测距模块相媲美。可应用于距离测量，机器人，防盗装置等。

### 工作原理：

Trig是启动信号引脚，使用的时候先给他10us以上的高电平，再拉低，SR04就会发送八个40khz的超声波，这时，我们直接对echo拉低(所谓拉高拉低就是输出高电平或者输出低电平)。然后就开始等待Echo啥时候变高了我们就开始计时，直到他变低为止，当它变低的时候，我们就可以根据这个时间计算距离了。

简单的说就是：Trig拉高10us以上，Trig拉低，ECHO变高，开始计时，ECHO变低结束计时。

需要注意的是Trig拉高10us以上！

也就是说你也可以拉高1ms，1s。反正只能多不能少。

SR04有两个喇叭，Trig拉高10us以上再拉低后，SR04就会认为收到开始信号，其中一个喇叭会发出一个特定频率的超声波，发送后拉高Echo引脚，另一个喇叭接受这个超声波，在接受结束后拉低Echo引脚。这时候Echo保持高电平的时间就代表了这段超声波的往返时间，因为是往返的，所以计算过程需要÷2,变成单程的时间，再将这个单程时间乘以声速即340米/秒，得到的就是从当前位置到对面障碍物的距离。

- 采用IO触发测距10us的高电平信号;
- 模块自动发送8个40khz的方波，自动检测是否有信号返回；
- 有信号返回，通过IO输出一高电平，高电平持续的时间就是超声波从发射到返回的时间．
  测试距离=(高电平时间*声速(340M/S))/2;

### 工作参数

1：使用电压：DC5V
2：静态电流：小于2mA
3：电平输出：高5V
4：电平输出：底0V
5：感应角度：不大于15度
6：探测距离：2cm-450cm
7:   高精度：可达0.3cm

### Arduino 连接方法

HC-SR04 引脚 VCC 连接到 Arduino 引脚 +5VDC
HC-SR04 引脚 Trig 连接到 Arduino 引脚 11  （出口）
HC-SR04 引脚 Echo 连接到 Arduino 引脚 12   （入口）
HC-SR04 引脚 GND 连接到 Arduino 引脚 GND